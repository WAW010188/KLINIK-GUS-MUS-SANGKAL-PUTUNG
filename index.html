<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Klinik Patah Tulang</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <section id="registration">
        <h2>Form Pendaftaran</h2>
        <form id="registrationForm" onsubmit="generatePDF(event)">
            <label for="noReg">No Reg:</label>
            <input type="text" id="noReg" name="noReg" required>

            <label for="nama">Nama:</label>
            <input type="text" id="nama" name="nama" required>

            <label for="ttl">Tempat/Tanggal Lahir:</label>
            <input type="text" id="ttl" name="ttl" required>

            <label for="umur">Umur:</label>
            <input type="text" id="umur" name="umur" required>

            <label for="jenisKelamin">Jenis Kelamin:</label>
            <select id="jenisKelamin" name="jenisKelamin" required>
                <option value="Laki-laki">Laki-laki</option>
                <option value="Perempuan">Perempuan</option>
            </select>

            <label for="alamat">Alamat Lengkap:</label>
            <textarea id="alamat" name="alamat" required></textarea>

            <label for="noTelepon">No Telepon Pasien:</label>
            <input type="text" id="noTelepon" name="noTelepon" required>

            <label for="noIdentitas">No KTP/SIM/Paspor:</label>
            <input type="text" id="noIdentitas" name="noIdentitas" required>

            <label for="statusPerkawinan">Status Perkawinan:</label>
            <select id="statusPerkawinan" name="statusPerkawinan" required>
                <option value="Belum Menikah">Belum Menikah</option>
                <option value="Menikah">Menikah</option>
            </select>

            <label for="tanggalKejadian">Tanggal Kejadian:</label>
            <input type="date" id="tanggalKejadian" name="tanggalKejadian" required>

            <label for="statusPerawatan">Status Perawatan:</label>
            <select id="statusPerawatan" name="statusPerawatan" required>
                <option value="Rawat Jalan">Rawat Jalan</option>
                <option value="Rawat Inap">Rawat Inap</option>
            </select>

            <label for="keteranganPatahTulang">Keterangan Patah Tulang:</label>
            <textarea id="keteranganPatahTulang" name="keteranganPatahTulang" required></textarea>

            <h3>Penanggung Jawab Pasien</h3>
            <label for="namaPenanggungJawab">Nama Lengkap:</label>
            <input type="text" id="namaPenanggungJawab" name="namaPenanggungJawab" required>

            <label for="ttlPenanggungJawab">Tempat/Tanggal Lahir:</label>
            <input type="text" id="ttlPenanggungJawab" name="ttlPenanggungJawab" required>

            <label for="hubungan">Hubungan ke Pasien:</label>
            <input type="text" id="hubungan" name="hubungan" required>

            <label for="alamatPenanggungJawab">Alamat:</label>
            <textarea id="alamatPenanggungJawab" name="alamatPenanggungJawab" required></textarea>

            <label for="noTeleponPenanggungJawab">No Telepon:</label>
            <input type="text" id="noTeleponPenanggungJawab" name="noTeleponPenanggungJawab" required>

            <button type="submit">Kirim Pendaftaran</button>
        </form>
    </section>

    <script>
        async function generatePDF(event) {
            event.preventDefault(); // Mencegah form dari pengiriman default

            // Mengambil data dari form
            const noReg = document.getElementById('noReg').value;
            const nama = document.getElementById('nama').value;
            const ttl = document.getElementById('ttl').value;
            const umur = document.getElementById('umur').value;
            const jenisKelamin = document.getElementById('jenisKelamin').value;
            const alamat = document.getElementById('alamat').value;
            const noTelepon = document.getElementById('noTelepon').value;
            const noIdentitas = document.getElementById('noIdentitas').value;
            const statusPerkawinan = document.getElementById('statusPerkawinan').value;
            const tanggalKejadian = document.getElementById('tanggalKejadian').value;
            const statusPerawatan = document.getElementById('statusPerawatan').value;
            const keteranganPatahTulang = document.getElementById('keteranganPatahTulang').value;
            const namaPenanggungJawab = document.getElementById('namaPenanggungJawab').value;
            const ttlPenanggungJawab = document.getElementById('ttlPenanggungJawab').value;
            const hubungan = document.getElementById('hubungan').value;
            const alamatPenanggungJawab = document.getElementById('alamatPenanggungJawab').value;
            const noTeleponPenanggungJawab = document.getElementById('noTeleponPenanggungJawab').value;

            // Membuat PDF menggunakan jsPDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Menambahkan konten ke PDF
            doc.setFontSize(16);
            doc.text("Form Pendaftaran Pasien", 10, 10);
            doc.setFontSize(12);
            doc.text(`No Reg: ${noReg}`, 10, 20);
            doc.text(`Nama: ${nama}`, 10, 30);
            doc.text(`Tempat/Tanggal Lahir: ${ttl}`, 10, 40);
            doc.text(`Umur: ${umur}`, 10, 50);
            doc.text(`Jenis Kelamin: ${jenisKelamin}`, 10, 60);
            doc.text(`Alamat: ${alamat}`, 10, 70);
            doc.text(`No Telepon Pasien: ${noTelepon}`, 10, 80);
            doc.text(`No Identitas: ${noIdentitas}`, 10, 90);
            doc.text(`Status Perkawinan: ${statusPerkawinan}`, 10, 100);
            doc.text(`Tanggal Kejadian: ${tanggalKejadian}`, 10, 110);
            doc.text(`Status Perawatan: ${statusPerawatan}`, 10, 120);
            doc.text(`Keterangan Patah Tulang: ${keteranganPatahTulang}`, 10, 130);
            doc.text("Penanggung Jawab Pasien", 10, 140);
            doc.text(`Nama: ${namaPenanggungJawab}`, 10, 150);
            doc.text(`Tempat/Tanggal Lahir: ${ttlPenanggungJawab}`, 10, 160);
            doc.text(`Hubungan: ${hubungan}`, 10, 170);
            doc.text(`Alamat: ${alamatPenanggungJawab}`, 10, 180);
            doc.text(`No Telepon: ${noTeleponPenanggungJawab}`, 10, 190);

            // Mengunduh PDF
            doc.save("Pendaftaran_Klinik_Patah_Tulang.pdf");
        }
    </script>
</body>
</html>
